# ADR2 - Компонентная диаграмма сервиса WellDriver

# Решение ПРИНЯТО

## Контекст

Для системы WellDriver, основные требования которой описаны в документе [WellDriver](../WellDriver.md) и на основании компонентной схемы [ADR1](ADR1.md) необходимо проработать общую схему взимодействия основных участников и представить ее в нотации C4 - Componets.


# Компонентная схема системы WellDriver
![Компонентная схема системы WellDriver](ADR2_data/wd-components.png)


## Особенности

* На диаграмме представлены основные участники и компоненты сервиса WellDriver.
* От внешних сервисов система получет данные в реальном времени.
* Количество внешних систем может изменяться.
* Протоколы приема данных от внешних сервисов могут быть любыми (пока OPC UA, как наиболее универсальный)
* Приемопередатчик принимает информацию от многих внешних систем и передает ее на предварительную обработку
* Также приемопередатчик принимает расчетную информацию от инженерного сервиса и передает ее на исполнительное устройство для автоматического бурения.
* Компонент предварительной обработки адаптирует информацию от многох приемников и производит валидацию данных по различным критериям.
* После валидации данные поступают в в локальную базу данных и для обработки информации в реальном времениЮ например, для непрерывного мониторинга.
* Модули представления выводят информацию в различных видах, в зависимости от роли подключенных участников.
* Также модуль обработки производит анализ пакетных данных, например, отчетов.
* Компонент взаимодействия с внешним сервисом инженерных расчетов передает realtime данные во внешний сервис и принимает данные из него.
* Пользователи общаются с системой по WEB интерфейсу через сервис фронтенда SPA.
* Модуль авторизации производит аутентификацию и автоизацию пользователей по ролям.


# Решение:
Со всеми стейкхолдерами проработаны различные варианты взаимодействия и на этом основании представлена эта контекстная схема. 
 
# Последствия решения:

* возможны изменения в компонентной схеме по мере понимания и развития


# Риски:
* недостаточная квалификация разработчиков и архитектора
* невозможность учесть все компоненты и варианты взаимодействия


